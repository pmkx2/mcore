(function(){define("cnode/api",["jquery"],function(t){"use strict";var e,r;return e="https://cnodejs.org/api/v1",r={topics:function(r){return null==r&&(r={}),r=t.extend({mdrender:!1,limit:10},r),t.get(e+"/topics",r)},topic:function(r){return t.get(e+"/topic/"+r,{mdrender:!1})}}})}).call(this),function(){define("cnode",["jquery","mcore","middleware","tag","attr"],function(t,e,r){"use strict";var n;return n=!1,function(i,o){var c;return c=new e.App(t(i)),c.use(r.loader),c.route("/topic/:id","cnode/topic").route("*","cnode/index"),c.on("runView",function(){return n===!1?(n=!0,t(o).remove()):void 0}),c.run()}})}.call(this),function(){define("cnode/formatters",["mcore","moment","markdown-it","highlight"],function(t,e,r){"use strict";var n,i,o;return hljs.initHighlightingOnLoad(),n=t.Template,i=function(){var t;return t=[{js:"javascript",jscript:"javascript",html:"xml",htm:"xml",coffee:"coffeescript","coffee-script":"coffeescript",yml:"yaml",pl:"perl",ru:"ruby",rb:"ruby",csharp:"cs"}],function(e,r){var n,i,o,c,s,u,a;if(r=String(r).toLowerCase()||"plain",t[r]&&(r=t[r]),hljs.getLanguage(r))try{i=hljs.highlight(r,e).value}catch(l){n=l,i=hljs.highlightAuto(e).value}else i=hljs.highlightAuto(e).value;return s=i.split("\n"),u="",o="",c=1,s[s.length-1]||s.pop(),s.forEach(function(t,e){return u+='<div class="line">'+(e+c)+"</div>",o+='<div class="line">'+t+"</div>"}),a='<figure class="highlight'+(null!=r?r:" "+{lang:""})+'">',a+='<table>\n    <tr>\n        <td class="gutter"><pre>'+u+'</pre></td>\n        <td class="code"><pre>'+o+"</pre></td>\n    </tr>\n</table>",a+="</figure>"}}(),o=new r({html:!1,xhtmlOut:!1,breaks:!0,langPrefix:"hljs ",linkify:!0,typographer:!1,highlight:i}),n.formatters("dateFormat",function(t,r){return null==r&&(r="YYYY-MM-DD"),e(t).format(r)}),n.formatters("fromNow",function(t){return e(t).fromNow()}),n.formatters("markdown",function(t){return o.render(t)})})}.call(this),function(){define("cnode/topic",["jquery","cnode/view","mcore-attr/scroller","cnode/formatters"],function(t,e){"use strict";return e.subclass({constructor:e.prototype.constructor,run:function(t){return this.render("cnode/topic.html",{topic:this.api.topic(t)})}})})}.call(this),function(){define("cnode/view",["jquery","mcore","cnode/api"],function(t,e,r){"use strict";return e.View.subclass({constructor:e.View.prototype.constructor,beforeInit:function(){return this.api=r}})})}.call(this),function(){define("cnode/index",["jquery","cnode/view","mcore-attr/scroller","cnode/formatters"],function(t,e){"use strict";return e.subclass({constructor:e.prototype.constructor,run:function(t){return this.context.page=Number(this.context.page||1),this.context.tab=this.context.tab||"",this.nextPage=this.context.page+1,this.prePage=this.context.page-1,this.page=1,this.render("cnode/index.html",{topics:this.getTopics(),loadPageDone:!0})},getTopics:function(){var t,e,r;return t=this.context.page,r=this.context.tab,e=function(e){return function(){return e.api.topics({page:t,tab:r})}}(this),this.memoryCache("index_topics_"+t+"_"+r).has(e)}})})}.call(this);