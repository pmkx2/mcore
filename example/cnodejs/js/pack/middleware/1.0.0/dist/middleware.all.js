// Generated by CoffeeScript 1.9.3

/**
 * loading 效果
 * @module middleware/loader
 * @author vfasky <vfasky@gmail.com>
 */

(function() {
  define('middleware/loader', ['jquery'], function($) {
    "use strict";
    var $el;
    $el = $('<div class="loader-wrap">\n    <div class="flower-loader">\n        Loading…\n    </div>\n</div>');
    $el.hide().appendTo('body');
    return function(err, next) {
      if (err) {
        return next(err);
      }
      this.view.on('beforeRender', function() {
        return $el.show();
      });
      this.view.on('tplBeforeUpdate', function() {
        return $el.show();
      });
      this.view.on('render', function() {
        return $el.hide();
      });
      this.view.on('tplUpdate', function() {
        return $el.hide();
      });
      return next();
    };
  });

}).call(this);

;
// Generated by CoffeeScript 1.9.3

/**
 * 中间件
 * @module middleware
 * @author vfasky <vfasky@gmail.com>
 */

(function() {
  define('middleware', ['middleware/loader'], function(loader) {
    "use strict";
    var exports;
    return exports = {
      loader: loader
    };
  });

}).call(this);
