<loading watch="self:topics.data"></loading>

<div rv-show="self:topics.data" rv-scroller="self:topics.data" >
    <div class="bar bar-header bar-royal">
        <h1 class="title">CNode</h1>
    </div>

    <div class="content has-header">
        <div rv-class-hg-border="v.top" class="list card" rv-each-v="self:topics.data">
            <a rv-href="'#/topic/' | link v.id" class="item item-avatar">
                <img rv-src="v.author.avatar_url" rv-alt="v.author.loginname" >
                <h2 rv-text="v.title"></h2>
                <p>
                    <i class="icon ion-ios-stopwatch-outline"></i>
                    {v.create_at | fromNow}
                </p>
            </a>

            <a rv-href="'#/topic/' | link v.id" class="item item-body">
                
                <div rv-html="v.content | substr 0 120 | markdown"></div>
            </a>

            <div class="item tabs tabs-secondary tabs-icon-left" rv-if="v.reply_count">
                <a class="tab-item" >
                    <i class="icon ion-chatbox"></i>
                    {v.reply_count}
                </a>
            </div>
        </div>
        <loading watch="self:loadPageDone"></loading>

    </div>
</div>


