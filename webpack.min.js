// Generated by CoffeeScript 1.9.3

/**
 * 
 * @date 2015-11-11 10:27:24
 * @author vfasky <vfasky@gmail.com>
 * @link http://vfasky.com
 * @version $Id$
 */

(function() {
  var config, fs, path, webpack;

  webpack = require('webpack');

  fs = require('fs');

  path = require('path');

  config = require('./webpack.config');

  config.plugins.push(new webpack.optimize.UglifyJsPlugin({
    compress: {
      warnings: false
    }
  }));

  config.plugins.push(function() {
    return this.plugin('done', function(stats) {
      return fs.writeFileSync(path.join(__dirname, 'stats.json'), JSON.stringify(stats.toJson().assetsByChunkName, null, 4));
    });
  });

  config.output.filename = '[name].[chunkhash].min.js';

  module.exports = config;

}).call(this);
