(function(){define("mcore/route",function(){"use strict";var n,e;return e=function(n,e,t,a){var i;return null==e&&(e=[]),null==t&&(t=!1),null==a&&(a=!1),n instanceof RegExp?n:(i=function(n,t,a,i,c,r){return e.push({name:i,optional:!!r}),t=t||"",""+(r&&""||t)+"(?:"+(r&&t||"")+(a||"")+(c||a&&"([^/.]+?)"||"([^/]+?)")+")"+(r||"")},n=n.concat(a&&""||"/?").replace(/\/\(/g,"(?:/").replace(/\+/g,"__plus__").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,i).replace(/([\/.])/g,"\\$1").replace(/__plus__/g,"(.+)").replace(/\*/g,"(.*)"),new RegExp("^"+n+"$",t&&""||"i"))},n=function(e,t,a){this.hashchange=null!=e?e:n.changeByLocationHash,this.sensitive=null!=t?t:!1,this.strict=null!=a?a:!1,this.rule=[]},n.changeByLocationHash=function(n){var e;return e=function(){return n(window.location.hash.substring(1))},window.addEventListener?window.addEventListener("hashchange",e,!1):window.attachEvent("onhashchange",e)},{pathToRegexp:e,Route:n}})}).call(this);